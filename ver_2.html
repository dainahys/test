<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; background: rgba(0, 0, 0, 0.75);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent; user-select: none; overflow: hidden;
        }
        .modal-container {
            position: relative; display: flex; flex-direction: column; align-items: center;
            padding: 24px 20px 16px;
            background: linear-gradient(160deg, #2d1b69 0%, #1e1145 50%, #261a52 100%);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(167,139,250,0.2);
            width: 320px; min-height: 480px; justify-content: flex-start; overflow: visible;
        }
        .bg-glow { position:absolute; border-radius:50%; pointer-events:none; filter:blur(60px); }
        .bg-g1 { top:-40px; right:-30px; width:150px; height:150px; background:rgba(167,139,250,0.2); }
        .bg-g2 { bottom:-30px; left:-20px; width:120px; height:120px; background:rgba(129,140,248,0.15); }
        .stars { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden; border-radius:24px; }
        .star { position:absolute; width:2px; height:2px; background:rgba(255,255,255,0.5); border-radius:50%; animation:twinkle 3s ease-in-out infinite; }
        @keyframes twinkle { 0%,100%{opacity:0.25;} 50%{opacity:0.8;} }
        .close-btn {
            position:absolute; top:10px; right:10px; width:28px; height:28px;
            background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.15);
            border-radius:50%; cursor:pointer; display:flex; align-items:center; justify-content:center;
            font-size:14px; color:rgba(255,255,255,0.4); transition:all 0.2s; z-index:30;
        }
        .close-btn:hover { background:rgba(255,255,255,0.12); color:rgba(255,255,255,0.7); }
        .title-area { text-align:center; margin-bottom:10px; z-index:2; }
        .title-badge {
            display:inline-block; padding:3px 10px;
            background:linear-gradient(135deg,rgba(167,139,250,0.3),rgba(129,140,248,0.2));
            border:1px solid rgba(167,139,250,0.35); border-radius:20px;
            font-size:9px; color:#ddd6fe; letter-spacing:1.5px; margin-bottom:6px; font-weight:600;
        }
        .title { font-size:18px; font-weight:800; color:#fff; margin-bottom:3px; letter-spacing:-0.3px; }
        .title .accent { background:linear-gradient(135deg,#a78bfa,#818cf8); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
        .subtitle { font-size:11px; color:rgba(255,255,255,0.55); }

        .board-scene { position:relative; width:270px; height:290px; margin:4px auto 0; z-index:2; }
        .chessboard {
            position:absolute; bottom:24px; left:50%; transform:translateX(-50%);
            display:grid; grid-template-columns:repeat(4,1fr); grid-template-rows:repeat(4,1fr);
            width:228px; height:228px; border:2.5px solid rgba(167,139,250,0.45); border-radius:8px;
            overflow:hidden; box-shadow:0 8px 32px rgba(0,0,0,0.3), 0 0 0 1px rgba(167,139,250,0.15);
        }
        .chess-cell { position:relative; display:flex; align-items:center; justify-content:center; transition:all 0.2s; overflow:hidden; }
        .chess-cell.light { background:rgba(196,181,253,0.2); }
        .chess-cell.dark { background:rgba(139,92,246,0.12); }
        .chess-cell .drop-hint { width:10px; height:10px; border-radius:50%; background:rgba(167,139,250,0.3); transition:all 0.2s; opacity:0; }
        .chess-cell.can-drop .drop-hint { opacity:1; animation:hintPulse 1.5s ease-in-out infinite; }
        @keyframes hintPulse { 0%,100%{transform:scale(1);opacity:0.4;} 50%{transform:scale(1.3);opacity:0.8;} }
        .chess-cell.hover-active { background:rgba(167,139,250,0.35)!important; box-shadow:inset 0 0 20px rgba(167,139,250,0.25); }
        .chess-cell.hover-active .drop-hint { width:16px; height:16px; background:rgba(196,181,253,0.7); opacity:1; animation:none; box-shadow:0 0 12px rgba(167,139,250,0.5); }
        .chess-cell.placed { background:rgba(167,139,250,0.35)!important; }
        .chess-cell.disabled { pointer-events:none; }

        .placed-knight { position:absolute; z-index:5; opacity:0; pointer-events:none; transition:opacity 0.3s; }
        .placed-knight.show { opacity:1; animation:knightLand 0.5s cubic-bezier(0.34,1.56,0.64,1); }
        @keyframes knightLand { 0%{transform:scale(0.3) translateY(-20px);opacity:0;} 60%{transform:scale(1.1) translateY(2px);} 100%{transform:scale(1) translateY(0);opacity:1;} }
        .placed-knight svg { width:42px; height:50px; filter:drop-shadow(0 4px 12px rgba(139,92,246,0.5)); }

        .land-fx { position:absolute; width:56px; height:56px; border:2px solid rgba(167,139,250,0.5); border-radius:50%; pointer-events:none; z-index:4; opacity:0; }
        .land-fx.go { animation:landRipple 0.6s ease-out forwards; }
        .land-fx2 { animation-delay:0.1s!important; }
        @keyframes landRipple { 0%{transform:scale(0.3);opacity:1;} 100%{transform:scale(2.5);opacity:0;} }

        /* 손 이미지 드래그 */
        .hand-knight {
            position:absolute; z-index:20; cursor:grab; touch-action:none;
            top:0px; right:-20px; transition:filter 0.2s;
        }
        .hand-knight:active { cursor:grabbing; }
        .hand-knight.dragging { cursor:grabbing; filter:drop-shadow(0 12px 30px rgba(200,140,255,0.5)); z-index:25; }
        .hand-knight.placed-done { opacity:0; transition:opacity 0.35s ease-out; pointer-events:none; }
        .hand-knight .hand-img { width:90px; height:auto; pointer-events:none; transform:scaleX(-1); }
        .hand-knight .knight-under {
            position:absolute; bottom:-28px; left:50%; transform:translateX(-50%);
            width:36px; height:44px;
            filter:drop-shadow(0 4px 10px rgba(139,92,246,0.5));
            pointer-events:none;
        }
        .hand-knight.idle { animation:handIdle 2.5s ease-in-out infinite; }
        @keyframes handIdle { 0%,100%{transform:translate(0,0) rotate(0deg);} 25%{transform:translate(-4px,-6px) rotate(-3deg);} 50%{transform:translate(0,-10px) rotate(0deg);} 75%{transform:translate(4px,-6px) rotate(3deg);} }

        .drag-guide { position:absolute; bottom:0; left:0; right:0; text-align:center; font-size:11px; color:rgba(255,255,255,0.5); z-index:2; animation:pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%,100%{opacity:0.4;} 50%{opacity:0.85;} }

        .result-container { display:none; flex-direction:column; align-items:center; text-align:center; width:100%; flex:1; justify-content:center; padding:10px 0 4px; }
        .result-container.show { display:flex; animation:resultIn 0.6s ease-out; }
        @keyframes resultIn { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);} }
        .result-icon { position:relative; width:90px; height:100px; margin-bottom:6px; }
        .result-icon .r-glow { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:130px; height:130px; background:radial-gradient(circle,rgba(139,92,246,0.18) 0%,transparent 70%); border-radius:50%; animation:gPulse 2s ease-in-out infinite; }
        @keyframes gPulse { 0%,100%{transform:translate(-50%,-50%) scale(1);opacity:0.5;} 50%{transform:translate(-50%,-50%) scale(1.15);opacity:1;} }
        .result-icon svg { position:relative; z-index:1; width:90px; height:100px; filter:drop-shadow(0 6px 20px rgba(139,92,246,0.4)); animation:kReveal 0.7s cubic-bezier(0.34,1.56,0.64,1); }
        @keyframes kReveal { 0%{transform:scale(0) rotate(-15deg);} 60%{transform:scale(1.08) rotate(3deg);} 100%{transform:scale(1) rotate(0);} }
        .result-label { font-size:12px; color:rgba(255,255,255,0.5); margin-bottom:2px; }
        .lottie-container { width:140px; height:55px; margin:-4px 0; }
        .result-amount { font-size:42px; font-weight:800; background:linear-gradient(135deg,#c4b5fd,#a78bfa,#818cf8); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:4px; animation:amtPop 0.8s cubic-bezier(0.34,1.56,0.64,1) 0.2s both; }
        @keyframes amtPop { 0%{transform:scale(0);opacity:0;} 60%{transform:scale(1.1);} 100%{transform:scale(1);opacity:1;} }
        .result-msg { font-size:14px; font-weight:600; color:rgba(255,255,255,0.9); margin-bottom:2px; }
        .result-sub { font-size:11px; color:rgba(255,255,255,0.45); }

        .button-group { display:none; flex-direction:row; gap:10px; width:100%; margin-top:auto; padding-top:10px; z-index:2; }
        .button-group.show { display:flex; }
        .btn { flex:1; padding:13px 14px; border:none; border-radius:12px; font-size:14px; font-weight:600; cursor:pointer; transition:transform 0.2s; display:flex; align-items:center; justify-content:center; white-space:nowrap; }
        .btn:active { transform:scale(0.97); }
        .btn-primary { background:linear-gradient(135deg,#7c3aed,#6366f1); color:#fff; box-shadow:0 4px 20px rgba(124,58,237,0.4); }
        .btn-secondary { background:rgba(255,255,255,0.1); color:rgba(255,255,255,0.55); border:1px solid rgba(255,255,255,0.15); }

        .particle-box { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:22; overflow:hidden; border-radius:24px; }
        .ptcl { position:absolute; opacity:0; }
        .ptcl.go { animation:ptclFly var(--d,1s) ease-out forwards; }
        @keyframes ptclFly { 0%{opacity:1;transform:translate(0,0) scale(1) rotate(0);} 100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0.15) rotate(var(--r,360deg));} }
    </style>
</head>
<body>
    <div class="modal-container" id="modal">
        <div class="bg-glow bg-g1"></div><div class="bg-glow bg-g2"></div>
        <div class="stars" id="stars"></div>
        <button class="close-btn" id="closeBtn">✕</button>

        <div id="initialView" style="display:flex;flex-direction:column;align-items:center;width:100%;">
            <div class="title-area">
                <div class="title-badge">LUNAR NEW YEAR 2025</div>
                <h1 class="title"><span class="accent">행운의 한 수</span> ♞</h1>
                <p class="subtitle">나이트를 끌어서 체스판에 놓아보세요!</p>
            </div>
            <div class="board-scene" id="boardScene">
                <div class="chessboard" id="chessboard"></div>
                <div class="placed-knight" id="placedKnight">
                    <svg viewBox="0 0 60 72" fill="none"><rect x="10" y="58" width="40" height="10" rx="3" fill="#8b5cf6"/><rect x="6" y="64" width="48" height="8" rx="3" fill="#7c3aed"/><path d="M18 58V30c0-2 1-4 3-5l8-6c2-1.5 3-3.5 3-6V8c0-3 2-6 5-7 2-.7 4 0 5.5 1.5L46 6c2 2 3 5 3 8v16c0 3-1 6-3 8l-6 8c-1.5 2-2 4-2 6.5V58" fill="#8b5cf6"/><path d="M25 28c-4 0-7-2-9-5l-2-4c-1-2 0-4 2-5l6-2c1 0 2 .5 2 1.5V18" fill="#8b5cf6"/><ellipse cx="21" cy="18" rx="2" ry="4" fill="#7c3aed" transform="rotate(-15 21 18)"/><circle cx="23" cy="22" r="2.5" fill="#1a1035"/><circle cx="24" cy="21.5" r="0.8" fill="white"/><circle cx="14.5" cy="21" r="1" fill="#6d28d9"/><path d="M17 25c1.5 1.5 4 2 6 1" stroke="#6d28d9" stroke-width="1.2" stroke-linecap="round" fill="none"/><path d="M32 6c-1 3-1 6 0 9M35 8c-1 2.5-.5 5 .5 7.5M38 10c-.5 2 0 4 1 6" stroke="#6d28d9" stroke-width="1.5" stroke-linecap="round"/></svg>
                </div>
                <div class="land-fx" id="landFx"></div>
                <div class="land-fx land-fx2" id="landFx2"></div>

                <!-- 3D 손 이미지 + 나이트 -->
                <div class="hand-knight idle" id="handKnight">
                    <img class="hand-img" src="data:image/jpeg;base64,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" alt="hand">
                    <svg class="knight-under" viewBox="0 0 60 72" fill="none"><rect x="10" y="58" width="40" height="10" rx="3" fill="#8b5cf6"/><rect x="6" y="64" width="48" height="8" rx="3" fill="#7c3aed"/><path d="M18 58V30c0-2 1-4 3-5l8-6c2-1.5 3-3.5 3-6V8c0-3 2-6 5-7 2-.7 4 0 5.5 1.5L46 6c2 2 3 5 3 8v16c0 3-1 6-3 8l-6 8c-1.5 2-2 4-2 6.5V58" fill="#8b5cf6"/><path d="M25 28c-4 0-7-2-9-5l-2-4c-1-2 0-4 2-5l6-2c1 0 2 .5 2 1.5V18" fill="#8b5cf6"/><ellipse cx="21" cy="18" rx="2" ry="4" fill="#7c3aed" transform="rotate(-15 21 18)"/><circle cx="23" cy="22" r="2.5" fill="#1a1035"/><circle cx="24" cy="21.5" r="0.8" fill="white"/><circle cx="14.5" cy="21" r="1" fill="#6d28d9"/><path d="M17 25c1.5 1.5 4 2 6 1" stroke="#6d28d9" stroke-width="1.2" stroke-linecap="round" fill="none"/><path d="M32 6c-1 3-1 6 0 9M35 8c-1 2.5-.5 5 .5 7.5M38 10c-.5 2 0 4 1 6" stroke="#6d28d9" stroke-width="1.5" stroke-linecap="round"/></svg>
                </div>
                <p class="drag-guide" id="dragGuide">↕ 나이트를 끌어서 체스판에 놓아보세요</p>
            </div>
        </div>

        <div class="result-container" id="resultView">
            <div class="result-icon">
                <div class="r-glow"></div>
                <svg viewBox="0 0 60 72" fill="none"><rect x="10" y="58" width="40" height="10" rx="3" fill="#8b5cf6"/><rect x="6" y="64" width="48" height="8" rx="3" fill="#7c3aed"/><path d="M18 58V30c0-2 1-4 3-5l8-6c2-1.5 3-3.5 3-6V8c0-3 2-6 5-7 2-.7 4 0 5.5 1.5L46 6c2 2 3 5 3 8v16c0 3-1 6-3 8l-6 8c-1.5 2-2 4-2 6.5V58" fill="#8b5cf6"/><path d="M25 28c-4 0-7-2-9-5l-2-4c-1-2 0-4 2-5l6-2c1 0 2 .5 2 1.5V18" fill="#8b5cf6"/><ellipse cx="21" cy="18" rx="2" ry="4" fill="#7c3aed" transform="rotate(-15 21 18)"/><circle cx="23" cy="22" r="2.5" fill="#1a1035"/><circle cx="24" cy="21.5" r="0.8" fill="white"/><circle cx="14.5" cy="21" r="1" fill="#6d28d9"/><path d="M17 25c1.5 1.5 4 2 6 1" stroke="#6d28d9" stroke-width="1.2" stroke-linecap="round" fill="none"/><path d="M32 6c-1 3-1 6 0 9M35 8c-1 2.5-.5 5 .5 7.5M38 10c-.5 2 0 4 1 6" stroke="#6d28d9" stroke-width="1.5" stroke-linecap="round"/></svg>
            </div>
            <p class="result-label">나이트의 행운</p>
            <div class="lottie-container" id="lottieContainer"></div>
            <p class="result-amount" id="resultAmount"></p>
            <p class="result-msg" id="resultMsg"></p>
            <p class="result-sub" id="resultSub"></p>
        </div>

        <div class="particle-box" id="particleBox"></div>
        <div class="button-group" id="buttonGroup">
            <button class="btn btn-secondary" id="secondaryBtn">닫기</button>
            <button class="btn btn-primary" id="primaryBtn">견적 요청하기</button>
        </div>
    </div>

    <script>
        const brazeBridge={logClick(id){if(typeof appboyBridge!=='undefined'&&appboyBridge.logClick)appboyBridge.logClick(id);else console.log('[Braze] logClick:',id);},closeMessage(){if(typeof appboyBridge!=='undefined'&&appboyBridge.closeMessage)appboyBridge.closeMessage();else console.log('[Braze] closeMessage');}};
        function moveTo(urls){const isApp=/soomgo/i.test(navigator.userAgent);if(isApp&&urls.app)window.location.href=urls.app;else if(urls.web)window.open(urls.web,'_blank');}

        const rewards=[
            {amount:100,weight:15,msg:'소소한 행운!',sub:'견적 요청하고 적립금을 사용해보세요'},
            {amount:500,weight:28,msg:'좋은 수를 뒀어요!',sub:'견적 요청 시 바로 사용 가능해요'},
            {amount:1000,weight:25,msg:'멋진 한 수!',sub:'견적 요청하면 적립금으로 할인받으세요'},
            {amount:3000,weight:15,msg:'체크! 대단해요!',sub:'지금 견적 요청하고 적립금을 써보세요'},
            {amount:5000,weight:8,msg:'체크메이트!',sub:'최고의 행운! 견적 요청하러 가볼까요?'},
            {amount:10000,weight:5,msg:'킹을 잡았어요!',sub:'1만원 적립금으로 서비스를 시작해보세요!'},
            {amount:50000,weight:4,msg:'전설의 나이트! 대승리!',sub:'5만원 적립금! 지금 바로 사용해보세요!'}
        ];
        function getReward(){const t=rewards.reduce((s,r)=>s+r.weight,0);let rand=Math.random()*t;for(const r of rewards){rand-=r.weight;if(rand<=0)return r;}return rewards[0];}

        (function(){const c=document.getElementById('stars');for(let i=0;i<20;i++){const s=document.createElement('div');s.className='star';s.style.left=Math.random()*100+'%';s.style.top=Math.random()*100+'%';const sz=(1+Math.random()*2)+'px';s.style.width=sz;s.style.height=sz;s.style.animationDelay=Math.random()*3+'s';s.style.animationDuration=(2+Math.random()*3)+'s';c.appendChild(s);}})();

        const board=document.getElementById('chessboard');const SIZE=4;const cellsList=[];
        for(let r=0;r<SIZE;r++){for(let c=0;c<SIZE;c++){
            const idx=r*SIZE+c;const cell=document.createElement('div');
            cell.className=`chess-cell ${(r+c)%2===0?'light':'dark'}`;cell.dataset.idx=idx;
            const hint=document.createElement('div');hint.className='drop-hint';cell.appendChild(hint);
            cell.style.opacity='0';cell.style.transform='scale(0.7)';
            setTimeout(()=>{cell.style.transition='opacity 0.3s,transform 0.35s cubic-bezier(0.34,1.56,0.64,1),background 0.2s,box-shadow 0.2s';cell.style.opacity='1';cell.style.transform='scale(1)';},80+idx*30);
            board.appendChild(cell);cellsList.push(cell);
        }}
        setTimeout(()=>{cellsList.forEach(c=>c.classList.add('can-drop'));},80+16*30+300);

        const lottieData={"v":"5.12.2","fr":30,"ip":0,"op":85,"w":3500,"h":1500,"nm":"clap","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"N4","sr":1,"ks":{"o":{"a":0,"k":0},"r":{"a":0,"k":-5},"p":{"a":0,"k":[1838,734,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[104,104,100]}},"ao":0,"ip":0,"op":601,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"fh","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[.154],"y":[1]},"o":{"x":[.333],"y":[0]},"t":0,"s":[15]},{"i":{"x":[.667],"y":[1]},"o":{"x":[.834],"y":[0]},"t":7,"s":[26]},{"t":14,"s":[15]}],"x":"var $bm_rt;$bm_rt=loopOut();"},"p":{"a":1,"k":[{"i":{"x":.154,"y":1},"o":{"x":.333,"y":0},"t":0,"s":[-76,40,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":.667,"y":1},"o":{"x":.834,"y":0},"t":7,"s":[8,140,0],"to":[0,0,0],"ti":[0,0,0]},{"t":14,"s":[-76,40,0]}],"x":"var $bm_rt;$bm_rt=loopOut();"},"a":{"a":0,"k":[79,79,0]},"s":{"a":1,"k":[{"i":{"x":[.154,.154,.667],"y":[1,1,1]},"o":{"x":[.333,.333,.333],"y":[0,0,0]},"t":0,"s":[500,500,100]},{"i":{"x":[.667,.667,.667],"y":[1,1,1]},"o":{"x":[.834,.834,.333],"y":[0,0,0]},"t":7,"s":[530,530,100]},{"t":14,"s":[500,500,100]}],"x":"var $bm_rt;$bm_rt=loopOut();"}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sh","ks":{"a":0,"k":{"i":[[3.4,-4.3],[12.3,-15.8],[1.9,12.3],[7.3,0],[-1.5,-8.9],[-1.2,-14.2],[-27.2,-17.8],[-17.8,22.9],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[6.9,5.3],[2.7,0]],"o":[[0,0],[-12.3,15.8],[-1.9,-12.3],[-9,0],[0,0],[1.2,14.2],[27.2,17.8],[0,0],[6.5,-8.3],[-5.7,-4.4],[0,0],[4.5,-5.7],[-5.7,-4.4],[0,0],[4.5,-5.7],[-5.7,-4.4],[0,0],[5.3,-6.9],[-2.5,-2],[-4.6,0]],"v":[[-2,-76],[-36.7,-31.4],[-48.3,-40.4],[-64.7,-56],[-77.3,-37.7],[-74.6,11],[-43.5,65.2],[36.1,50.4],[72.4,3.8],[71.7,-16.7],[53.2,-14.4],[64.8,-29.3],[62.5,-47.7],[44.1,-45.4],[52,-55.7],[49.6,-75.1],[30.3,-72.6],[19.8,-59],[18.4,-80.1],[10.4,-83]],"c":true}}},{"ty":"gf","o":{"a":0,"k":100},"r":1,"bm":0,"g":{"p":5,"k":{"a":0,"k":[0,1,.91,.98,.34,1,.89,.98,.67,1,.86,.97,.84,1,.71,.95,1,1,.56,.92]}},"s":{"a":0,"k":[117,-213]},"e":{"a":0,"k":[-88,146]},"t":1},{"ty":"tr","p":{"a":0,"k":[79,83]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"G4","np":2,"bm":0,"ix":4}],"ip":0,"op":165,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"bh","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[.154],"y":[1]},"o":{"x":[.333],"y":[0]},"t":0,"s":[10]},{"i":{"x":[.667],"y":[1]},"o":{"x":[.834],"y":[0]},"t":7,"s":[1]},{"t":14,"s":[15]}],"x":"var $bm_rt;$bm_rt=loopOut();"},"p":{"a":1,"k":[{"i":{"x":.154,"y":1},"o":{"x":.333,"y":0},"t":0,"s":[-110,2,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":.667,"y":1},"o":{"x":.834,"y":0},"t":7,"s":[-166,-83,0],"to":[0,0,0],"ti":[0,0,0]},{"t":14,"s":[-110,2,0]}],"x":"var $bm_rt;$bm_rt=loopOut();"},"a":{"a":0,"k":[79,79,0]},"s":{"a":1,"k":[{"i":{"x":[.154,.154,.667],"y":[1,1,1]},"o":{"x":[.333,.333,.333],"y":[0,0,0]},"t":0,"s":[500,500,100]},{"i":{"x":[.667,.667,.667],"y":[1,1,1]},"o":{"x":[.834,.834,.333],"y":[0,0,0]},"t":7,"s":[450,450,100]},{"t":14,"s":[500,500,100]}],"x":"var $bm_rt;$bm_rt=loopOut();"}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sh","ks":{"a":0,"k":{"i":[[3.4,-4.3],[12.3,-15.8],[1.9,12.3],[7.3,0],[-1.5,-8.9],[-1.2,-14.2],[-27.2,-17.8],[-17.8,22.9],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[5.7,4.4],[4.5,-5.7],[0,0],[6.9,5.3],[2.7,0]],"o":[[0,0],[-12.3,15.8],[-1.9,-12.3],[-9,0],[0,0],[1.2,14.2],[27.2,17.8],[0,0],[6.5,-8.3],[-5.7,-4.4],[0,0],[4.5,-5.7],[-5.7,-4.4],[0,0],[4.5,-5.7],[-5.7,-4.4],[0,0],[5.3,-6.9],[-2.5,-2],[-4.6,0]],"v":[[-2,-76],[-36.7,-31.4],[-48.3,-40.4],[-64.7,-56],[-77.3,-37.7],[-74.6,11],[-43.5,65.2],[36.1,50.4],[72.4,3.8],[71.7,-16.7],[53.2,-14.4],[64.8,-29.3],[62.5,-47.7],[44.1,-45.4],[52,-55.7],[49.6,-75.1],[30.3,-72.6],[19.8,-59],[18.4,-80.1],[10.4,-83]],"c":true}}},{"ty":"gf","o":{"a":0,"k":100},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,.97,.58,.9,.5,.99,.77,.95,1,1,.95,.99]}},"s":{"a":0,"k":[-131,160]},"e":{"a":0,"k":[418,-405]},"t":1},{"ty":"tr","p":{"a":0,"k":[79,83]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"G4","np":2,"bm":0,"ix":4}],"ip":0,"op":165,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}};
        function initLottie(){const c=document.getElementById('lottieContainer');if(!c)return;c.innerHTML='';lottie.loadAnimation({container:c,renderer:'svg',loop:true,autoplay:true,animationData:lottieData});}

        function boom(ox,oy){const box=document.getElementById('particleBox');box.innerHTML='';const cols=['#8b5cf6','#a78bfa','#c4b5fd','#818cf8','#6366f1','#f59e0b','#fcd34d','#ec4899'];for(let i=0;i<40;i++){const p=document.createElement('div');p.className='ptcl';const sz=3+Math.random()*8;p.style.width=sz+'px';p.style.height=sz+'px';p.style.borderRadius=Math.random()>.4?'50%':'2px';p.style.background=cols[Math.floor(Math.random()*cols.length)];p.style.left=ox+'px';p.style.top=oy+'px';const a=Math.random()*Math.PI*2,dist=60+Math.random()*140;p.style.setProperty('--tx',Math.cos(a)*dist+'px');p.style.setProperty('--ty',(Math.sin(a)*dist-30)+'px');p.style.setProperty('--r',Math.random()*720+'deg');p.style.setProperty('--d',(0.5+Math.random()*0.7)+'s');box.appendChild(p);setTimeout(()=>p.classList.add('go'),i*10);}}

        function landAt(x,y){['landFx','landFx2'].forEach((id,i)=>{const e=document.getElementById(id);e.style.left=(x-28)+'px';e.style.top=(y-28)+'px';e.classList.remove('go');void e.offsetWidth;setTimeout(()=>e.classList.add('go'),i*100);});}

        const hand=document.getElementById('handKnight');const scene=document.getElementById('boardScene');
        let isDragging=false,isPlaced=false,startX,startY,currentHoverCell=null;
        function getPos(e){if(e.touches)return{x:e.touches[0].clientX,y:e.touches[0].clientY};return{x:e.clientX,y:e.clientY};}

        function onStart(e){if(isPlaced)return;e.preventDefault();isDragging=true;hand.classList.remove('idle');hand.classList.add('dragging');const pos=getPos(e);const rect=hand.getBoundingClientRect();startX=pos.x-rect.left;startY=pos.y-rect.top;const sr=scene.getBoundingClientRect();hand.style.position='absolute';hand.style.left=(rect.left-sr.left)+'px';hand.style.top=(rect.top-sr.top)+'px';hand.style.right='auto';hand.style.transition='none';}

        function onMove(e){if(!isDragging||isPlaced)return;e.preventDefault();const pos=getPos(e);const sr=scene.getBoundingClientRect();hand.style.left=(pos.x-sr.left-startX)+'px';hand.style.top=(pos.y-sr.top-startY)+'px';const tipX=pos.x,tipY=pos.y+50;let found=null;cellsList.forEach(cell=>{cell.classList.remove('hover-active');const cr=cell.getBoundingClientRect();if(tipX>=cr.left&&tipX<=cr.right&&tipY>=cr.top&&tipY<=cr.bottom)found=cell;});if(found){found.classList.add('hover-active');currentHoverCell=found;}else currentHoverCell=null;}

        function onEnd(e){if(!isDragging||isPlaced)return;isDragging=false;hand.classList.remove('dragging');if(currentHoverCell){isPlaced=true;const idx=parseInt(currentHoverCell.dataset.idx);brazeBridge.logClick('cell_'+idx);const bEl=document.getElementById('chessboard');const cR=currentHoverCell.getBoundingClientRect();const bR=bEl.getBoundingClientRect();const cx=cR.left-bR.left+cR.width/2,cy=cR.top-bR.top+cR.height/2;hand.classList.add('placed-done');cellsList.forEach(c=>{c.classList.add('disabled');c.classList.remove('can-drop','hover-active');});currentHoverCell.classList.add('placed');const pk=document.getElementById('placedKnight');pk.style.left=(cx-21)+'px';pk.style.top=(cy-30)+'px';setTimeout(()=>pk.classList.add('show'),150);setTimeout(()=>landAt(cx,cy),250);document.getElementById('dragGuide').style.display='none';const reward=getReward();setTimeout(()=>{const mR=document.getElementById('modal').getBoundingClientRect();boom(cR.left-mR.left+cR.width/2,cR.top-mR.top+cR.height/2);setTimeout(()=>{document.getElementById('initialView').style.display='none';document.getElementById('resultView').classList.add('show');document.getElementById('buttonGroup').classList.add('show');initLottie();document.getElementById('resultAmount').textContent=reward.amount.toLocaleString()+'원';document.getElementById('resultMsg').textContent=reward.msg;document.getElementById('resultSub').textContent=reward.sub;},550);},600);}else{hand.style.transition='all 0.4s cubic-bezier(0.34,1.56,0.64,1)';hand.style.left='auto';hand.style.right='-20px';hand.style.top='0px';setTimeout(()=>{hand.classList.add('idle');hand.style.transition='';},400);}currentHoverCell=null;}

        hand.addEventListener('mousedown',onStart);document.addEventListener('mousemove',onMove);document.addEventListener('mouseup',onEnd);
        hand.addEventListener('touchstart',onStart,{passive:false});document.addEventListener('touchmove',onMove,{passive:false});document.addEventListener('touchend',onEnd);
        document.getElementById('closeBtn').addEventListener('click',()=>{brazeBridge.logClick('close_button');brazeBridge.closeMessage();});
        document.getElementById('primaryBtn').addEventListener('click',()=>{brazeBridge.logClick('primary_button');moveTo({app:'smgo://request',web:'https://soomgo.com'});brazeBridge.closeMessage();});
        document.getElementById('secondaryBtn').addEventListener('click',()=>{brazeBridge.logClick('secondary_button');brazeBridge.closeMessage();});
    </script>
</body>
</html>
